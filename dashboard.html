<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Produção</title>

<style>
body{
  font-family:Arial, sans-serif;
  background:#f2f5f9;
  padding:20px;
  margin:0;
}

h1{
  text-align:center;
  color:#3b82f6;
}

#dashboard{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(140px,1fr));
  gap:16px;
  margin-top:20px;
}

.card{
  background:#fff;
  border-radius:14px;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
  padding:14px;
  text-align:center;
}

.dia{
  font-size:26px;
  font-weight:bold;
  color:#ec4899;
  margin-bottom:8px;
}

.item{
  font-size:14px;
  margin:5px 0;
}

.ok{
  color:#22c55e;
  font-weight:bold;
}

.fail{
  color:#ef4444;
  font-weight:bold;
}

.msg{
  grid-column:1/-1;
  text-align:center;
  color:#666;
}
</style>
</head>

<body>

<h1>Dashboard de Produção</h1>

<div id="dashboard">
  <div class="msg">Carregando dados…</div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(){

  const container = document.getElementById("dashboard")
  container.innerHTML = ""

  let dados = []
  try{
    const salvo = localStorage.getItem("dadosProducao")
    if(salvo){
      dados = JSON.parse(salvo)
    }
  }catch(e){
    dados = []
  }

  if(!Array.isArray(dados) || dados.length === 0){
    container.innerHTML = "<div class='msg'>Nenhum dado registrado</div>"
    return
  }

  dados.forEach(function(reg){
    const dia = reg.dia || "-"
    const base = Number(reg.programado) || 0
    const prod = Number(reg.produzido) || 0
    const falta = base - prod

    const card = document.createElement("div")
    card.className = "card"

    card.innerHTML =
      "<div class='dia'>" + dia + "</div>" +
      "<div class='item'>Base: " + base + "</div>" +
      "<div class='item ok'>Produzido: " + prod + "</div>" +
      "<div class='item " + (falta > 0 ? "fail" : "ok") + "'>" +
        "Falta: " + (falta > 0 ? falta : 0) +
      "</div>"

    container.appendChild(card)
  })

})
</script>

</body>
</html>
